<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wells & Rigs Map</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <style>
    body { margin:0; font-family:sans-serif; }
    #topbar { height:30px; background:#0b1d2a; color:white; display:flex; align-items:center; padding:0 16px; font-size:14px; gap:24px; }
    #map { height: calc(100vh - 30px); width: 100%; }
    .legend { background:white; padding:6px; border-radius:4px; font-size:12px; }
  </style>
</head>
<body>

<div id="topbar">
  <div><b>Wells & Rigs Overview</b></div>
  <div id="stats">Loading statisticsâ€¦</div>
</div>

<div id="map"></div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script type="module">
  import { createLegend } from "./js/icons.js";
  import { loadKeyStats } from "./js/stats.js";
  import { loadMapData } from "./js/map_data.js";

  // Initialize map
  const map = L.map('map').setView([60,3],5);
  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png',{
    maxZoom:19,
    attribution:'&copy; OpenStreetMap contributors'
  }).addTo(map);

  // Load modules
  loadKeyStats("stats");
  loadMapData(map);

  // Add legend
  createLegend().addTo(map);
</script>
</body>
</html>
